<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button></ion-back-button>
    </ion-buttons>
    <ion-title>Iniciar Sesión</ion-title>
  </ion-toolbar>
</ion-header>
<ion-content padding>
  <form
    [formGroup]="validationFormUser"
    (ngSubmit)="login(validationFormUser.value)"
  >
    <ion-grid>
      <ion-row justify-content-center>
        <ion-col align-self-center size-md="6" size-lg="5" size-xs="12">
          <div class="ion-text-center">
            <h3>tianguis</h3>
          </div>
          <div padding>
            <p>Te damos la bienvenida, introduce tus datos</p>
          </div>
          <div padding>
            <ion-item>
              <ion-input
                name="email"
                formControlName="email"
                type="email"
                placeholder="E-mail"
                [(ngModel)]="user.email"
              ></ion-input>
            </ion-item>
            <div>
              <ng-container
                *ngFor="let validation of validationUserMessage.email"
              >
                <div
                  class="error_message"
                  *ngIf="validationFormUser.get('email').hasError(validation.type) && (validationFormUser.get('email').dirty || validationFormUser.get('email').touched)"
                >
                  {{validation.message}}
                </div>
              </ng-container>
            </div>
            <ion-item>
              <ion-input
                name="password"
                type="password"
                formControlName="password"
                placeholder="Contraseña"
                [(ngModel)]="user.password"
              ></ion-input>
            </ion-item>
            <div>
              <ng-container
                *ngFor="let validation of validationUserMessage.password"
              >
                <div
                  class="error_message"
                  *ngIf="validationFormUser.get('password').hasError(validation.type) && (validationFormUser.get('password').dirty || validationFormUser.get('password').touched)"
                >
                  {{validation.message}}
                </div>
              </ng-container>
            </div>
          </div>
          <div padding>
            <ion-button type="submit" expand="block"> Ingresar </ion-button>
          </div>
        </ion-col>
      </ion-row>
      <ion-row class="ion-margin-top" justify-content-center>
        <ion-col size-md="3" size-lg="2" size-xs="6">
          <div padding>
            <a href="/register">Registrar</a>
          </div>
        </ion-col>
        <ion-col size-md="3" size-lg="2" size-xs="6">
          <div padding>
            <a href="#">Olvidé mi contraseña</a>
          </div>
        </ion-col>
      </ion-row>
      <ion-row class="ion-margin-top" justify-content-center>
        <ion-col align-self-center size-md="6" size-lg="5" size-xs="12">
          <ion-item-divider>Iniciar sesión con:</ion-item-divider>
        </ion-col>
      </ion-row>
      <ion-row justify-content-center>
        <ion-col size-md="3" size-lg="2" size-xs="6">
          <div padding>
            <ion-button color="secondary" expand="block" (click)="googleAuth()">
              <ion-icon name="logo-google"></ion-icon>
              <ion-text>&nbsp;Google</ion-text>
            </ion-button>
          </div>
        </ion-col>
        <ion-col size-md="3" size-lg="2" size-xs="6">
          <div padding>
            <ion-button
              color="secondary"
              expand="block"
              (click)="facebookAuth()"
            >
              <ion-icon name="logo-facebook"></ion-icon>
              <ion-text>&nbsp;Facebook</ion-text>
            </ion-button>
          </div>
        </ion-col>
      </ion-row>
    </ion-grid>
  </form>
</ion-content>
